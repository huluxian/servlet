<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Ti</title>
    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" type="text/css" rel="stylesheet">
    <!-- jQuery (Bootstrap 的所有 JavaScript 插件都依赖 jQuery，所以必须放在前边) -->
    <script src="js/jquery-3.2.1.min.js"></script>
    <!-- 加载 Bootstrap 的所有 JavaScript 插件。你也可以根据需要只加载单个插件。 -->
    <script src="js/bootstrap.min.js"></script>
</head>
<body>
<button class="btn-primary btn" onclick="cl()" >点击</button>
<div id="container">

</div>
<script>
    var i=0
    function cl() {
        alert("!!!!!!")
        i++;
        console.log("????"+i);
        $.ajax({//利用jQuery对ajax的支持
            "url" : "http://localhost:8080/servlet/userJson",
            "type" : "get",
            //"data" : {"t":"pypl"},//多个参数用逗号隔开即可
            "dataType" : "json",
            "success" : function(json){
                for(var i = 0; i < json.length; i ++) {
                    $("#container").append("<h1>" + json[i].username + "</h1>");
                    $("#container").append("<h1>" + json[i].id + "</h1>");
                }
            },
            "error" : function(xmlhttp, errorText){
                if(xmlhttp.status == "405"){
                    alert("无效的请求方式");
                }else if(xmlhttp.status == "404"){
                    alert("URL资源不存在");
                }else if(xmlhttp.status == "500"){
                    alert("服务器内部产生异常，请联系管理员");
                }else{
                    alert("产生异常，请联系管理员!");
                }
            }
        })

    }

</script>

</body>
</html>